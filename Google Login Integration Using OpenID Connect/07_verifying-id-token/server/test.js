import jwt from "jsonwebtoken";
import dotenv from "dotenv";

dotenv.config();

const clientId = process.env.GOOGLE_CLIENT_ID;
const token =
  "eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOWY5MzcxZDU3NTVmM2UzODNhNDBhYjNhMTcyY2Q4YmFjYTUxN2YiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIzNDE1MDgxODI3NTUtbGNkbDNmOG1qbm50cGsxZjlhbXVvYTRpMzZ2bDZzdDUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIzNDE1MDgxODI3NTUtbGNkbDNmOG1qbm50cGsxZjlhbXVvYTRpMzZ2bDZzdDUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTY4NDQ5NjQ5MzAzNjUxODgwNTgiLCJoZCI6ImFzbWVkdS5vcmciLCJlbWFpbCI6InZhcnVubWVuZHJlQGFzbWVkdS5vcmciLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXRfaGFzaCI6IjFiVVhLR19nbHFULUhwbVgwdk1mcGciLCJuYW1lIjoiVmFydW4gTWVuZHJlIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0tIOUE3emFPN2dwb2ZRMG5VNU1QWk00TGFnZ2NUWjBlNDc1S2pZai1NOUJvN2w0QT1zOTYtYyIsImdpdmVuX25hbWUiOiJWYXJ1biIsImZhbWlseV9uYW1lIjoiTWVuZHJlIiwiaWF0IjoxNzYwOTUxNDI1LCJleHAiOjE3NjA5NTUwMjV9.gcssmddVvZt0udET1i59LsCR9jtJWD25NKpIhfDAbGSbentGWqd7_wIAvM0RR8W0hn_Bbbf0ZY-36_Ur_-V0-z_B130cK0VhGLN_JFHsPxsKJxGwvJ8pBH8-uP88miByxf6LwWucHhDFdspGhejVsQ_vAzoEuXWyLH4OHN0Bc2xwUOFbdhD0idt5CGJNnIDcJCT9X2roVC3VKdnxMvBNwzwj-lxyyRVvig5d6srFNko2T4A9wRLOWJFle8fMol4Q7OONH5rVqKDbBGdjQpzJQ-eVe3aqltTfwbv2f-NWLRe0o8q_M1XI3v5Nv1fGwWNcXOrSxhccq6gCXvCy35xOQg";
const publicKey = `-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAto2hcsFNHKquhCdUzXWd
P8yxnGqxFWJlRT7sntBgp47HwxB9HFc+U/AB1JT8xe1hwDpWTheckoOfpLgo7/RO
EsKpVJ/OXnotL/dgNwbprr+T/EFJV7qOEdHL0KmrnN+kFNLUUSqSChPYVh1aEjlP
fXg92Yieaaz2AMMtiageZrKoYnrGC0z4yPNYFj21hO1x6mvGIjmpo6/fe91o+buZ
NzzkmYlGsFxdvUxYAvgk+5+7D10UTTLGh8bUv/BQT3aRFiVRS5d07dyCJ4wowzxY
lPSM6lnfUlvHTWyPL4JysMGeu+tbPA+5QvwCdSGpfWFQbgMq9NznBtWb99r1UStp
BQIDAQAB
-----END PUBLIC KEY-----`;

const data = jwt.verify(token, publicKey, {
  algorithms: ["RS256"],
});

console.log(data.aud == clientId);
console.log(data);


